<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="partials/head.html :: head('Edit Profile')">
    <link rel="stylesheet" th:href="@{/css/Main.css}">
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<nav th:replace="partials/navbar.html :: navbar"/>

<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <div class="edit-form">
                <form th:action="@{/profile/edit}" th:object="${user}" method="post" class="mt-5 border p-4 bg-light shadow">
                    <h4 class="mb-5 text-secondary">Edit Your Profile</h4>
                    <div class="row">
                        <div class="mb-3 col-md-12 form-group">
                            <label for="first_name">First Name</label>
                            <input id="first_name" class="form-control" th:field="*{firstName}" th:value="${user.firstName}">
                            <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"></p>
                        </div>
                        <div class="mb-3 col-md-12 form-group">
                            <label for="last_name">Last Name</label>
                            <input id="last_name" class="form-control" type="text" th:field="*{lastName}" th:value="${user.lastName}">
                            <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></p>
                        </div>
                        <div class="mb-3 col-md-12 form-group">
                            <label for="username">Username</label>
                            <input id="username" class="form-control" type="text" th:field="*{username}" th:value="${user.username}"/>
                            <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></p>
                            <input id="password" type="hidden" th:field="*{password}" th:value="${user.password}"/>
                        </div>
                        <div class="mb-3 col-md-12 form-group">
                            <label for="email">Email</label>
                            <input id="email" class="form-control" type="text" th:field="*{email}" th:value="${user.email}"/>
                            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></p>
                        </div>
                        <div class="mb-3 col-md-12 form-group">
                            <label for="team">Real Estate Team</label>
                            <input id="team" class="form-control" type="text" th:field="*{team}" th:value="${user.team}">
                            <p th:if="${#fields.hasErrors('team')}" th:errors="*{team}"></p>
                        </div>
                        <div class="mb-3 col-md-12 form-group">
                            <label for="phoneNumber">Phone Number</label>
                            <input id="phoneNumber" class="form-control" type="text" th:field="*{phone}" th:value="${user.phone}">
                            <p th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></p>
                        </div>
                        <div th:if="${!isListingAgent}" class="mb-3 col-md-12 form-group">
                            <label for="isListingAgent">Would you like to become a listing agent?</label>
                            <input type="checkbox" id="isListingAgent" name="isListingAgent" value="1">
                        </div>
                        <div class="d-grid gap-2 col-6 mx-auto">
                            <button class="btn btn-sm" style="color: white; background-color: #24ade3" type="submit">Submit Changes</button>
                        </div>
                        <div class="d-grid gap-2 col-6 mx-auto">
                            <a style="color: white; background-color: red;"  class="btn btn-sm" th:href="@{/users/editpassword}">Change Password</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div th:replace="partials/scripts.html :: scripts"/>
</body>
</html>